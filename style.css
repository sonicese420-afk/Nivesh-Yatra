/* style.css - refreshed for stable charts and crisp bottom nav */
:root{
  --accent: #2f5873;
  --accent-2: #1abc9c;
  --bg: #071017;
  --surface: #07171b;
  --card: rgba(255,255,255,0.03);
  --muted-text: rgba(230,243,246,0.68);
  --text: #e6f3f6;
  --success: #2ecc71;
  --danger: #e74c3c;
}

/* Reset */
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased}
a{color:inherit}

/* Header (logo top-left) */
#ny_header{
  display:flex;align-items:center;gap:14px;padding:14px 16px;background:linear-gradient(180deg,var(--accent),#2e6b6f);position:sticky;top:0;z-index:80;
  box-shadow:0 6px 18px rgba(0,0,0,0.5)
}
#ny_logo_img{width:56px;height:56px;border-radius:12px;object-fit:cover;background:rgba(255,255,255,0.03)}
#ny_header .brand-title{font-weight:700;font-size:18px}
#ny_header .brand-sub{font-size:12px;color:var(--muted-text)}

/* Assets summary card */
#ny_assets_box{margin:12px 16px;padding:14px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,0.6)}
#assetsTotal{font-size:26px;font-weight:800}
#assetsPL{font-weight:600;margin-top:6px}
#assetsCount{color:var(--muted-text);margin-top:6px}

/* Main content area */
#ny_main{padding:12px 16px 120px;min-height:60vh}

/* Cards */
.ny-card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;padding:14px;margin-bottom:12px;box-shadow:0 8px 24px rgba(0,0,0,0.6)}
.ny-card .name{font-weight:700;font-size:16px}
.ny-card .price{font-size:18px;margin-top:8px;font-weight:700;color:var(--text)}
.ny-card .meta{font-size:13px;color:var(--muted-text);margin-top:6px}

/* Inputs & buttons */
.ny-card input.qty{width:72px;padding:8px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:rgba(255,255,255,0.02);color:var(--text)}
.ny-card button.buy-btn, .ny-card button.add-btn{border:none;padding:9px 12px;border-radius:10px;cursor:pointer;font-weight:700}
.ny-card button.buy-btn{background:var(--accent-2);color:#fff}
.ny-card button.add-btn{background:#2f8cff;color:#fff}

/* Bottom nav (crisp, no blur) */
.ny-bottom-nav{position:fixed;left:12px;right:12px;bottom:16px;display:flex;justify-content:space-between;gap:12px;padding:8px 12px;background:rgba(7,20,24,0.9);border-radius:32px;align-items:center;z-index:120;box-shadow:0 12px 30px rgba(0,0,0,0.6)}
.ny-nav-btn{min-width:90px;display:inline-flex;align-items:center;justify-content:center;gap:8px;color:var(--text);background:transparent;border-radius:12px;padding:10px 14px;border:1px solid rgba(255,255,255,0.03);cursor:pointer;opacity:.98}
.ny-nav-btn.active{background:linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));border:1px solid rgba(255,255,255,0.06)}

/* Remove accidental backdrop blur and make icons crisp */
.ny-bottom-nav, .ny-nav-btn{backdrop-filter:none; -webkit-backdrop-filter:none}

/* Chart / modal sizing fixes to prevent stretching */
#ny_modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:140;pointer-events:none}
#ny_modal .ny-modal-content{width:92%;max-width:900px;max-height:80vh;overflow:auto;background:var(--surface);border-radius:12px;padding:12px;pointer-events:auto;box-shadow:0 20px 60px rgba(0,0,0,0.7)}
/* Force canvas sizes so Chart.js doesn't stretch them */
#ny_modal canvas, #ny_portfolio_chart, canvas#ny_detail_chart {
  width:100% !important;
  height:260px !important;
  display:block;
  object-fit:contain;
}
/* Also cap card canvas */
.ny-card canvas{max-width:100%;height:200px !important}

/* Portfolio list header */
#ny_portfolio_panel h2, #ny_stocks_panel h2, #ny_funds_panel h2{font-size:28px;margin:6px 0 12px}

/* Positive/Negative */
.positive{color:var(--success)}
.negative{color:var(--danger)}

/* Responsive tweaks */
@media (min-width:768px){
  #ny_main{padding-left:32px;padding-right:32px}
  .ny-card{padding:18px}
  .ny-nav-btn{min-width:120px}
  #ny_header img#ny_logo_img{width:64px;height:64px}
}

/* Leave space for bottom nav if script can't set it */
body:not(.no-bottom-nav) #ny_main{padding-bottom:120px}

/* Focus outlines */
button:focus, input:focus{outline:2px solid rgba(255,255,255,0.06);outline-offset:2px}
